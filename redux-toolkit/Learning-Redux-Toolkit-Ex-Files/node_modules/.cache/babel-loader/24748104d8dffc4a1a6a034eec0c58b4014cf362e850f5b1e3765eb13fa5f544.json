{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport productList from '../data/productList.json';\nexport const fetchAllProducts = createAsyncThunk('fetch-all-products', async apiUrl => {\n  const response = await fetch(apiUrl);\n  return response.json();\n});\nconst productSlice = createSlice({\n  name: 'products',\n  initialState: {\n    data: [],\n    fetchStatus: ''\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchAllProducts.fulfilled, (state, action) => {\n      state.data = action.payload;\n      state.fetchStatus = 'success';\n    }).addCase(fetchAllProducts.pending, state => {\n      state.fetchStatus = 'loading';\n    }).addCase(fetchAllProducts.rejected, state => {\n      state.data = productList.products;\n      state.fetchStatus = 'error';\n    });\n  }\n});\nexport default productSlice;","map":{"version":3,"names":["createAsyncThunk","createSlice","productList","fetchAllProducts","apiUrl","response","fetch","json","productSlice","name","initialState","data","fetchStatus","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","pending","rejected","products"],"sources":["/var/home/rbo13/dev/personal/frontend-kata/redux-toolkit/Learning-Redux-Toolkit-Ex-Files/src/data/productSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport productList from '../data/productList.json'\n\nexport const fetchAllProducts = createAsyncThunk('fetch-all-products', async (apiUrl) => {\n  const response = await fetch(apiUrl)\n  return response.json()\n})\n\nconst productSlice = createSlice({\n  name: 'products',\n  initialState: { data: [], fetchStatus: '' },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllProducts.fulfilled, (state, action) => {\n        state.data = action.payload\n        state.fetchStatus = 'success'\n      })\n      .addCase(fetchAllProducts.pending, (state) => {\n        state.fetchStatus = 'loading'\n      })\n      .addCase(fetchAllProducts.rejected, (state) => {\n        state.data = productList.products\n        state.fetchStatus = 'error'\n      })\n  },\n})\n\nexport default productSlice\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,WAAW,MAAM,0BAA0B;AAElD,OAAO,MAAMC,gBAAgB,GAAGH,gBAAgB,CAAC,oBAAoB,EAAE,MAAOI,MAAM,IAAK;EACvF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,MAAM,CAAC;EACpC,OAAOC,QAAQ,CAACE,IAAI,EAAE;AACxB,CAAC,CAAC;AAEF,MAAMC,YAAY,GAAGP,WAAW,CAAC;EAC/BQ,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAE;IAAEC,IAAI,EAAE,EAAE;IAAEC,WAAW,EAAE;EAAG,CAAC;EAC3CC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACb,gBAAgB,CAACc,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACtDD,KAAK,CAACP,IAAI,GAAGQ,MAAM,CAACC,OAAO;MAC3BF,KAAK,CAACN,WAAW,GAAG,SAAS;IAC/B,CAAC,CAAC,CACDI,OAAO,CAACb,gBAAgB,CAACkB,OAAO,EAAGH,KAAK,IAAK;MAC5CA,KAAK,CAACN,WAAW,GAAG,SAAS;IAC/B,CAAC,CAAC,CACDI,OAAO,CAACb,gBAAgB,CAACmB,QAAQ,EAAGJ,KAAK,IAAK;MAC7CA,KAAK,CAACP,IAAI,GAAGT,WAAW,CAACqB,QAAQ;MACjCL,KAAK,CAACN,WAAW,GAAG,OAAO;IAC7B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeJ,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}